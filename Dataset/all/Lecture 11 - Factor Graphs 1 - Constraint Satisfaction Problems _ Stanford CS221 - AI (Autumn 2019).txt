countries Austria the other one Hungarian Austria in Hungary I thought about this problem if you think it was fine different from normal constraining your head I have two countries that are right next to each other that one constrained and another thing you had one of them need to start feeding a so you had a strange to think about what you think about the problem that's like this and that makes it pretty I hope so to use different types of model that could be pretty different from stage what is the more annoying example you're going to talk about these types of model so far Hilary free space model replace my total spend some time talking please adversarial game and then what the plan is to talk about variable base model specifically constraint satisfaction problems today and on Wednesday and then we're going to talk like bacon networks next week so will have come you like yours on radio net so we're going to have it really is going to talk and talk about this use the s l p on Wednesday and then Percy is going to be back next week talking about vision net worth and I will do the third lecture of vision I'll be home mixtape so that's that alright so ok so going back here now it's our paradigm is starting with modelling so how we model verify that problem and then how do we develop inference algorithms that try to answer questions we care about objectives to care about based on these models and you've been talking about learning a lot of it so so if you are not sure how do we go about learning learning so so here is just a review of what we've talked about so far in terms of morning we talked about various frameworks like search problems or a game the various frameworks that we had and you had an objective so we had things by minimum cost search problems or record whatever things like maximising the value of policy or 4 mbps or or game this was talking about in terms of in French the skystream logarithms and discuss graph-based if you remember that tracking search what's the simplest most nice thing with tried out for search problems 44 games like a workout minimax and expecting Max which was also going down a tree and then you can have more graphics typography service wherever you're looking at a recurrence relationship an examples of data are things like dynamic programming uniform cost celebrities in games in terms of learning with discuss a few types of methods for each one of his fireworks with Dad structures for Saffron q-learning TV learning some of the topics teddy of talking about so far so the Midway through the court are all the cool things we've learnt so far I need to report BBC Wales work on a coat and hope you had a couple of takeaways from Steve summarise like.to main takeaways from state what are the key takeaways was was Deborah modelling these state-based models we had we had no relationship so so we are more with specified is local interactions and local relationships that you had the example if I wanted to go from s2a my neighbouring state then I would think about what would be the cost of going from relationship between the goal was to do in France and an inference with more trying to look we had a global property can I find the shortest path from some stage so I stayed in this whole graph so to the idea was this actually model and specify these local relationships and then do and friends for replying global Yorkshire Moors that was kind of your idea of state the thing that they use the thing that they mean like medium powerful was a concert what's the sunrise what state was the summary of all past action it's sufficient to choose butorac that's how we defined states that how we went about and once we had stayed when was he had a notion about the state then I'm I said was I'm going to move through the state through actions so so I have said I can think of those notes here and I have actions where I can think of them as the edges in the graph and the question is how do I go through one state to another state and what is a sequence of actions I should take so so if you think about the policy you like we were talking about this sequence of actions and it's actually take for me to go from here to the door and I would have a sequence of actions that need to go one after each want me to achieve the type of problems that you want to talk about today don't have a little bit more structure they don't really care about us and that's kind of the kid so when I asked her very first question two countries one of them the name of one of them she starts with a the other want to speak Hungarian and they're not right next to each other in the way you think of with all those constraints all the things that you need to satisfy you don't really need to wait for specific order a bunch of constraints in his house while he doesn't matter to start from where and that's kind of the idea that of a variable based models and go through example example the map we have a map of Australia Australia has seven provinces so these are all the problems this year and what you want to do if you want to colour so the question is how can we call her each of the seven provinces with three colours I have red green and blue two neighbouring provinces that's that's a task and I'm going to be here again here is the order of things doesn't matter right I can pick any of them I'll pick a call an underscore from doesn't matter like if if it matters in the sense of the algorithm side of it things but in terms of them so it doesn't matter so so this is one possible like I can what's really like red green and blue for different parts of it and no two neighbouring countries have and I was to find so I can think of this as a search for I can perfectly think of this as a service what's your stars with a partial solution and my partial solution is somehow I have decided to choose just going to refer to these provinces by the first one w a v e n t I'm going to make them red and now what I want to do is I want to figure out what other colours to use for the rest of the Prague so I can just go down the street so my state here is this partial assignment go down a surgery and I can choose Queensland and then I'm going to call her that colour red red everything looks good everything is free so now I'm not working out Northern Territory so ent I'm going to pick a colour and just green very few essays I only have one option for it right cos I'm already red and I've already picked Green NSA is connected to all these red and green so the only colour I can pick for us a that is that is all I have B&W that has to be green right because I've already picked right there so that has to be and a news one Solutions I just wish Downer surgery and pick the solution I could have picked somewhere solution like a decision that I made over there to make Auntie green that was kind of Randall and I can just have another solution as a proviso how about I choose I should have different colors for decided I decided to make it red maybe I want to make and she has to be green because that's the only option I can have and then when I get to s w I don't really have any SW have no colours for it screen as registered in blue S SWS connected.to off the real please how about I choose Queen to be a Queensland to be green same story and she has to be blue SW I don't know ok so this was just going getting through this example filming it's a search problem and have this present partial assignment and I'm going to pick axe and the actions are going to just give a colouring to the neck Sony Xperia V the state is Porto assignment of colours to Provence and action I'm going to take it a sign the next on-call Provence to compatible so I can perfectly think of this problem as a state are using what what the thing is there is worse structure to the problem in this particular case comes from the fact that in ordering doesn't so very bored doing does not really have just doesn't matter what order and then in addition to that the variable interdependent in a local way so so for example if I just had Tasmania like right here it's not connected to anything so I can just speak whatever colour I want for that and it's not affecting the rest of my problem so I don't really need to have some order to like PixiFoto picked the last right I can just pick a colour 40 and it doesn't the rest of the restaurant a very small doses what kind of make or model let's make and models simpler then stay what's a sore tried to figure out what is this the state thing sufficient for I still make make decisions in the future and then pick action sequel let's try to have an easier language to represent a model of the problem that so they need to come up with this new framework and and this new framework going to have variables as opposed to state call these things variable and you're going to have a sign so the whole job of modelling is to figure out where the variables are and what sort of a sign picking for this variable decision of world what order should I call her things or when value should I pick for Provence like the decision of order value with other variables should I pick I can push all of that note I'm going anywhere I'm just putting it to end another knowledge is here is you can think that you have a difficult problem and you can have like an ad-hoc way of going about and solving you and now Aegean programming languages to that would be I would be solving it using a symbol state-based models be covered ID of state or doing something something more general and then and you're doing a lot of work and why are you doing that because you have a high level of traction so when you're using something like say please models and an allergy to that is maybe your programming it's so you're moving the level that Avignon using things like variable base models it's even moving the level that fractions and what a bit higher Stephen like programming in Python so so sure you can do the exact same thing in C2 but now you had higher levels of abstraction to think about Prague and dad makes your model match and other things that can be why I wonder very well so I couldn't do this but I have no I said why do this so what I want to do for the rest of the class I want to start formalising variable and then after that I won't talk a little bit about in French in the case of very smart specifically I'm going talked about dynamic ordering and consistency as a way it allows us to to solve the variable model and then towards the end I just want to show a couple of examples other examples are wise and where they come in summer exam so that is the plan for today let's start with a simple example so I say that I have free People brought up here free People 1 do free and each of them are going to choose a colour either red I need two of them have a set of constraints so the idea is maybe this guy really wants to really want play me the third person hypocrite but maybe doesn't not like as bad as disguise I prefer red and maybe we want to make sure that the same thing the first person I'm maybe we want to ensure that the second person in the third person who prefer they pick the same epic so these are some set of constraints almost that I'm putting and the way that I can think about these constraints I've just like lay down and this picture is using this idea of a fact whatagraph is going to have a set of variables analogue tomatoes it's good I want a variable I'm going to have three variables because this person is going to pick something pick another colour colour so I'm going to have variable X1 x2 actually alright down over one definition for the first part of the class photographs battle grass or going to have some number of variables you going to represent variables with capital letters capital example the variables rx1 next to and he's one of these variable you're going to they're going to live in some domaine des or going to get ready right so so each one of these exercise you're going to live in some domain we're going to say I some domain in this particular example the domain is just red and blue and if I pick value for them coming and say well this guy picked the red and escape then I'm giving in that's called an assignment Simon I'm going to ride it with small eggs and it's going to tell me you always explain to Mormons annexe II what were the Sunday before this 34 example variables living a domain and then we can pick it up sign can I how old is constrained and I can write those constraints as something that cold Fact factors going to be functions tell me how happy I would be if this one take Slough your red or mall the functions of the syndicate is a function I'm going to write tachograph needs factors is Fighters or if juice there are some number of them there might be a lot of them fjet are some taking some value anydesk how to be greater than or equal to a time you have happy hour so so here I would have f 1 of x 1 so if I really want the sky to pick blood and what would be a good factor to put here what should I say I can write as an indicator function making sure that x 1 definitely take sorry if it is an indicator puncture what is it what is the indicator function if X1 actually takes blue the value of the soccer is going to be one if X1 text read the values going to be I'm kind of trading 0asis thing that I don't want and anything above 0 as something that they actually I'm going to have another constraint this constraint is going to be at the function draw the squares as the circles are my variables and then and the scores are my factors his functions that kind of tell me what are the constraint what are the things that I need to do is going to say that they need to pick the same thing again and can be maybe an indicator function making sure this is the story about each other and maybe I will have a 3 of F3 is going to be a function of x 2 and x 3 insurance sometimes speak the sea or sometimes here kind of means can have an indicator function but maybe if they don't pick the same thing you wouldn't be too sad so so maybe don't put 04 that indicator function Plus and then is it going to be preferred alright tobacco graph so I can actually wicked the values of the factors may be if 1 of x 1 maybe what I want is I'm 4.2.1 if x 1 pics blue I want that to be called 0fx one pics red or the two they have to agree for the case that they have to agree I can define it as an indicator function where if you're not equal to each other I'm going to get 0 m very unhappy they are equal to each other I'm going to get one so I would be happy I'm going for the case that external extremely kind of vehicle to each other then maybe we can do something like an indicator function post to this means that if they don't pick the same thing alright I'll be happy but like exactly you're saying even happier free I'm going for the last one see more thing I prefer the last person to be Craig so I'm going to give you about your tutor dad and I does the Deezer on my phone is it good or is it like it is in general it does matter liquid you're picking for your soon going to be talking about this specific case of come through site-specific 8th of October where does the rain one is the only thing that I'm not focusing too much on you get 0 that's pretty bad if you get 90 feeding my cat soon you're going to talk about serious problems just Factor graph so let's try to actually write the sub so who is this environment that you can play with if you want so here you can define variable so I have variable X1 you can take how you read or poo X2 X3 somewhere thing that can take it out as red or blue I have four factors that I'm going to write up with this actors or Factor F1 depends on X1 it's a function and it's going to return the result of this indicator and I'm somewhere I think I'm going to define the second Factor also I just want to know one you can kind of see even more next time when we talk about so what is the plan for Bath some more formally Factor graph has a set of variables X12 Wickes in and each one of these variables each one of these excise why isn't some domain in this case to read or was I and then the factors are going to bf1 through FM we have any of them in this case and and each of these factors is just a function over x that is going to be greater Derry tells us what are the things that example Example the variables are the provinces that you can't be 7 of them the domain is going to be red green and blue so the colours that we can pick and then the factors what the factors here are just going to be telling us that don't pick the same colour for two provinces that are neighbours so I'm going to have factors that or indicators insuring that we don't give the same value neighbouring so we have actors that basically connect every neighbours Square here not is a domain always the same for all variables independent the problem not really also we're going to talk about how to reduce the domain as we go that's that's another reason that because we think about the inference algorithm the domain is not going to stay the same I pick red for example for we then in twos not going to have read it still the reason I keep bringing up the domain how to update the Dome this is a tachograph find a few more things to say we have a common language to talk about things so are we going to find a scope no scope of a factor is a set of variables at the scope copia it's just set up variables a factor of 10 ring apple for this case if I have F2 it depends on two variables X1 and X2 so discover through so in this case when we work the map poem example if you look at a phone as a factory that tells us wan2 should not have the same colour the two variables that are used are we what's a better school the Natalie have a Scott begin defining something else called everything which is the number of variables which one of the square it's just how many how many coming out of it just want to go Square depends on two variables I can have a setting where maybe you have a factor that depends on three variables I can have a factor that depends on only one variable then this one and if it is 2 then recorded call the factor binary Factor if everything is one record the factory language so we have the number of variables in the scope 1 or binary facts map fy is a binary turn the heat up map powering all are factors for binary factors that just say DC variable from my vehicle to Chatteris I have a bunch of binary Factor than that in this case I have finally figure out the binary factor of the Universe Factor ok so far so good so we talked about the signman straight assignments are going to be a setting where we give actual value and an assignment can have a Rea they told us how good that is remember how good this particular recital I can't have you would be if it's to take the value next we get to know you a rate told me how happy I will be for the force so so what is going to be like in this case you can meet me in weekend away just be a product of my so I'm going to rain maybe I'll just riding in front of here so I'm going to define wait an assignment x and Away I'm writing is I'm just going to write it to be a product fgs Jay from 1 factors for this particular example what are the tables and each one of these tables represents are Factor but now if I talk about the four sainement then I'm working Dad what does what happens if X1 X2 X3 take all possible values that they could be taking so I have 8 possible auctions and then I'm looking at as as a the oldest actors to remember I was saying was the singer that really don't have so if I have 0 over like that Superbike hard constraint that I'm trying to infer and dad makes my weight equal to zero so so if one ever pics read that was a hard constraint you wanted the first person the first person to spread than the greatest go to you're a thing we really wanted was the first and second person to pick exactly same power different colours it's going to be 0 otherwise I would have different I would have different ways maybe the thing I care about is to maximize the weight so I'll pick it one the sidemen going back to this demo environment what we can do is we can basically with define effective grass step through it you can play with this by the can basically get these two different different assignments that can give you no answer then we can talk about various title with them ok weight of an assignment is your surprise and an objective is to maximize the rate of the Simon so I want to find is at the end of the day what I want to do is I want to find an assignment so what if I maximizes the weight of alright going back to my corner so here we define all these indicator factors so if it is an indicator Factor I'm either going to get to do one I'm not like that if I have this particular assignment and the weight of the assignment is this going to be at by 12 I'm just going to get if I find a solution to this problem the rate of that particular Simon is going I could have another assignment where I don't get these neighbouring territories are going to be have the same colour they're both going to be ready then in that case two of my factors are going to be 0 if they are going to be zero the wait is map orange indicators the only way that I can get or 0 if I get one if I don't get one so you've been talking about Sasha after this more general things now you're going to start talking about seriously is constraint satisfaction just factory all factors are called constraints and the factors are going to take it out you 0 or 1 satisfied of the fact excelu talk about Factor graphs we're going to talk about constraint they also have the same variables are you going to assignments for them so the same thing the factors are going to call constraints pictures of jays x Rider zero and if you find an assignment where your weight is equal to 1 and administered your satisfying all your factors assignment consistency consistent assignment that is when the beat 1 if the weight is equal to 0 then you have an Incan a201 consisting Simon swearing Simon x is consistent if and only if the rate of that particular assignment is one that is all the constraints or constraint just give me one and Zeros and multiplying 10 anything is not Tylers way so far so far I've just gone over baccarat is the more general case of it A3 size frame problems is more than or not Harrison Street everything in the heart I don't have as a problem because everything is a heart like you don't want any to neighbouring countries to have the same colour so you're either going to give one if that constrain the satisfied or you're going to give zero that's not very battle called constrains assignment that is because of wine system the Simon on a rising it's a Morgan flower factory so what's up about how we go back how should we find an assignment goes to finance you have been if you're talking about we want to get which one that means you want to have an assignment that consistent and makes all my Factor how do I pick how do I pick that so I just like to see how we would do it why was Saunders I would pick one of these like one of these very boss I would pick it up with you maybe I would say was just a red and then we go to Llandovery no it's like I know you have a constraint to constrain his wnt should not be equal to each other so the only thing that is that you should not be read I'm just going to pick some Green so then I'm going to go to some other neighbouring sa I have two constraints the two constraints or is it so should not be too we should not be so shouldn't be red or it shouldn't be green the only after I have its booster then I'm going to go to queue the only option I have with you is red green and blue w the only option screen the only alternative there is is red and I can pick whatever so so this is a thing that we would probably do it Rightmove go Rudy's note some order and pick colours and someone to order and I know that's important but what do we do it is just pick some more day maybe would have something that fix the order and fix it I tried to like make a constraint what we want to do is we actually want to spend 11 of time talking about doing that and and having actually heuristic I told her what order we should use we should use for the variables and what are your values we need to define one more thing so I think I'm going to be define dependent assignment is going to be partially assigning value very so apart of Simon for example here could be that we need to be red and Anthony define dependent factors function of partial assignment and a new variable XI number different colour we have that's something else called pendant factors VR exit portal an exercise in Newry independent factors is going to return a set of is going to return a set of factors that depend on x and x example in this case this this is a portal what I am asking what are the dependent factors of this partial assignment and s picking a new variable and picking USA and I'm saying what what are the dependence give me the factors that depend on the using essay independent Puerto portals it's going to be distracted distracted alright I'm going to be back there that says why is not go to Sa and I'm going to pick the fact that tells me that kind of factors that allows me to think about the next thing I should make next things I should be worrying about so if you remember electricity that he will look at children Argos dependent so now this is awesome I want to write it up on the board because good to have it it is a little bit of a pseudocode so they are going to talk about right now is just backtracking search it's not doing anything but backtracking search it does the thing that you text apostle Simon x 6 the weight steady and it takes the domains main so if x is a complete assignment if your father can put the sign then you're going to update the best thing by hand or we will do whatever you're supposed to do for the problem that you might have different types of problems that maybe the question is find one assignment if I find 12th with assignment I can I can maybe I'm looking for another question which tells me count all possible sign so if I'm counting assignment then I'm just going to update my calendar and try to anyone with a question is I want to do play the Simon then I update if we're going to choose an unassigned variable x is complete are you going to choose unassigned variable on a sign which is a variable and your how do I do that I'm going to sort out the rustic to do it I have some way of figuring out what is the next variable I'm picking and another repeat the variable you're going to pick some value for it right now colouring you're going to pick up Robin and you're going to say Harry no it's red is Red Bull that comes from another here is there recess order values domain values with the Red Bull so order the values that are in domain picked up the next I may be the only colours that you can use right now or red and so then you were going to order red and blue using some heuristic I had a talking about yet maybe some music says you should use red do you do breakfast order and then for each of these values in this order so for each be in this order you're going to update are you going to have the still target value I'm still so weight while you was going to be products actors and is factors are factors of your partial assignment whatever your true colours for 234 is already and you're looking at the it's going to be the parcel assigned Union whatever value you're looking at new XI that you're trying to pick what is after you said you're looking at these days are going to be the exchange data in the dependent Factor partial assignment and you're very that's why we defined dependence these are the factors that care about you I'm not going to look at osmania if I'm not looking at that I'm just going to the things that depend on my current auto assignment and my my my filter 60 return continue 0 continue so that means that the same menu this means that this is 40 cor value that you're fake just made everything here I didn't work try everything you're a thing you're going to do is everything works is your going to update your domain talk about how to do that that's the thing that's going to save you save you time because like you have now found out that you only need to care about colours red and blue and you don't need to worry about make sure that you don't need to worry about all the colours and then after that you're just gonna Backtrack new thing new thing is ex Union you think that movie for exercise of this is your newest send it your weight is going to be whatever he started x Delta nothing and you've updated your domain so you're just going to use them in all the other notes so so so this is the basic first like a what about updating how do I update so one simple way of updating domain finger tab forward check if you pick a colour so let's say that you picked w2b red just look at the neighbours of wa tenancy if you can update the domain the first thing I can do like I've picked up with you at the side of the way is red so the thing I'm going to do is I'm just going to look at the neighbour neighbours are they cannot be read so I'm going to just update their domains to be the simplest thing what would you let me be alright what are this forward so so maybe now I'm in I am deciding and you to be green if I'm deciding auntie to be green I'm going to look at new birds of it please I'm going to get SIA and Q play can I be green anymore so I'm going to drop I'm going to B&Q for whatever reason and you I'm going to pick blue for queue Louvre queue and then I'm going to become the neighbour and my neighbour essay does not have anything in it still so I realise that at this point like this I only to worry about the rest of the knows anyone what I'm thinking for the rest of the I don't need to worry about this that kind of a deal so forward checking is the idea of doing one step with your head so after assigning a variable xu1 eliminate inconsistent values from domains of exercise so you did you mean so excited neighbours and if any domain becomes empty then you don't record and then when you're something to notice if you're on assigning XI you have to restore the door to change the domains if you're honest I'm hurting or queen was not the colour to go then the other question was this you updating your main one way to go badly this checking another place that we need to take things Wi-Fi is choosing that on assign variable so which one to look and again one here is sick two to look at here is to pick the variable it's the most constrained so choose a variable that has the fewest consistent I'm going to pick the wine most constrained why don't we do this why would I pick yeah so you're living with options and ideas if I'm going to let me just find out that it's not going to work so that's the idea of it and in this case like if you're left with this option very very red and green here and now I'm going to pick what should I look at NEXT I should be looking at essay because that only has one value so that's not going to work is going to work so we wanted to choose a variable that has a fewest consistent the reason this works is if we have some number of constraints in a more general everything I'm saying is not just about and then the reason this works is you have some constraints right we have we have some some of these factors are going to return on the zero because they're going to return at 0 that is why I would like to hear this because this only gives us benefit if we have the second question is ok so now using most constrained variable I pick my variable what value am I ln4 value interesting case for value you want to pick the risk constraint the reason again is you pick the most constrained variable because you wanted you wanted to know if you're going to fail you wanted to feel early but now you've committed really now you're going without you have to like a sign of value so you might as well the list constrain where are you both options for would you rather very both so an example here and another thing but that's also an example here is your going to look at the setting where you're picking and you want to choose what colour to use what value to use you can you can call if you read if you can't you read you going to do this forward checking and if you're going to forward checking you're going to update the domain Omega 1202 options here to options that would be a measure of consistent if you decide to you I thought you was going to happen is Jurgen update Auntie and that's going to have one value as going electrical system and I knew you were going to basically pick the one that leaves the most hottest possible so you're going to order the values the coolest values here first the colours of selected by decreasing number of consistent Now use I don't wonder thing is like here is six or only going to work if you're doing forward you're not updating after main story another news about this particular here is thing which is for ordering the values the only place that this is actually going to give us some benefit is radio working with SIA because if we don't we actually need to go through all the all the is only going to be beneficial Spotify occurrence yeah so depends on what you're doing right oh so that kind of the questions for the optimal solution solution it depends on that kind of this if you find a solution and you're happy with that one solution eternity randy if you want to find the best solution on you to it this more time then maybe you have a counter here that's still like you Ford Fiesta 1.0 solution what if I have a factor graph I actually want to optimise my my my so so yeah so that's a good idea of this most constrained variable is we must assign every variable so if you're going to fail it's just early the idea of order reappearing 44 values is going to pick values with less constrained value so I'm kind of the reasoning behind that is he got the truth song that we have to choose values for all choosing the value that the most likely to be the solution so going back to this h now you have a horrific who to follow for all these three different red wines and doing so we're just doing tracking we can update this so I want to spend a lot of time talking about what are consistency is is it this is a fancier way of doing forward so we talked about this one here is this one person you're talking about today is this and we said buying this out with them because I update the domain the way we have been updating the domain is just looking at the neighbours using forward another idea to do something slightly better consistency an are consistent he doesn't just look at it goes through the whole csp and tries to update the domains of human life doesn't that's what how to do so tiny American system eliminate the values from domains join domain I don't want to go over all those for loop for all the values if I can update my domain it's going to be much better who is destroyed to reuse so so here is an example so I say that I have xx and XI jnx I text my ex I is 1 2 3 4 and 5 and then the domain of exchange is 1 what I want to do is I have a constraint the constraint is Xi part exchange is equal to 4 my current domain of XII don't really need to worry about all these because I've never works how to be 4 so that's not you only me for things to work is to have 3 + 1 and 2/4 right so the only variables that I actually need to worry about 4 domains Alexei is it not 1234 so so what I want to do is I want to take the domain 12345 and reduce that to dress working those are the only values that I should actually care so and enforcing Arc consistency basically tries to get to so it's a variable exercises ROBLOX size are consistent with some variable XJ value XI in the domain of for each value exciting the domain XI exist on exchange don't need an extra so so the Factor is equal so basically it's insuring that everything is going to be if you having consistency remove things from the domain consistency ensures that if there are any sort of inconsistencies between two variables xin exchange it's they start and it tries to remove from the door talk to me restart from one at pickaxe mine and I will try all these other very very excited and I use of them and then they keep doing over all of them so what we're going to do is just read out the function in forcing our consistency and it's going to remove values from Romania by to make a make or consistently the only thing I'm touching is domain so who was actually like gover an example of how example I'm going to start from wa I'm never cred4 so that's my current domain 4wa if I was doing forward checking what would I do I would just look at NT and sa I would update the domain so now what I'm going to do this I realise that and see Anastasia domains or change I'm going to push them today to the same the same list of things I have and I'm going to each other I see the neighbours of them to the artists that come from so so everything goes consisted there everything is great I'm going to be cantina what's a identity TS green I'm only cat neighbours event neighbours of NTR waw red everything is sa has a green I need to get rid of diarrhoea I need to get rid of so do you want sa their domains are touched by their domains have change I actually need to look at them and then see how the domains of their neighbours are going to be affected and I can see what is is blue the only way for us to be consistent with the rest of these guys is that they don't have it I'm going to remove roof from Kew nsw and me assistant as a here is kind of my XI xjx IQ here I'm going to update the domain of XI so it becomes cancer change the domain of queue change the time in a minute I'm going to change it what is updated who is updated and SWS updated please update they're going to go to go back and I'm going to go through them again and see if there neighbour need to be updated going back to 22q fuse red SWS domain needs to be updated to be consistent with you I'm going to read SWS domain is search so now I got to go back to me who's going to become bread if I do like this for like enforcing are consistency here I'm going to end up with with something all my domains are kind of proving that I have and this is just down by updating the and then doing this all that is done in this if you want to if you want to actually this whole like pruning is only like it's alright if you want to find a solution in a CSV but if you have a graph and you actually if you're free trial what is the more sets like darling if you were doing forward checking we have to do the like you actually had to do this we wouldn't get this like we get to this much because if you were doing forward checking would just look at the immediate neighbour what is the domains and then we go to the next like note in the neighbour neighbours you like I'm not having call Gatwick I'm here I'm updated by Dom and I'm glad to know you and I haven't got back yeah so forward checking is kind of a simple version you're signing xj8 to be equal to extreme and and you're importing or consistency on all the neighbours of x I would restrict what consistency what it does is repeatedly with this glass is called the most common way of doing and what it does is it repeatedly in force or consistency and all the so what it does is you're going to add extra to your set burn whilst it is not empty you going to remove an XK from from that set for all neighbours recording Excel for all the neighbours what you going to do if you're going to call in first or consistency on Excel and if you do minus change if you don't change the domain domain uphill then you're going to add that back just adding the notes back symptoms of complexity of this algorithm worst case scenario it's going to be order of time is the number of edges and dealer the reason is that when you're in forcing our consistency this line takes order of the square YouTube values the square you are you're doing going over all the edges right so you have all the edges so that's easy squirt and another thing to notice is your sometimes adding these things back in the sea adding them because they're domains can be change domains can you change at most times worst case scenario in general in general I keep like adding the same are the same Excel so you're gonna stay here I think it's not the best thing in the world like if I like ideally you would have one and ac320 return solution if they're doesn't exist solution but here for example AC3 not being very where is an example right so you have these 3 notes and what's a you're left with these domain so blue and red if you're importing are consistency you're not going to change these domains are very but there is no solution you can find here blue and red Theory so I can systems he's actually not going be able to figure out and there are more complicated versions of our consistency that consider non-binary relationships but there I can see simple you riot what is not defined intuition of our consistency is real looking at this graph in a local matter and trying to like updated domains to be more efficient but it's not it's not going to give us a call are constraints with each other but it is basically making sure that local yet venue swimming general you can use with Indian because it's going to print things usually if you have a lot of dependencies between if you're if you have a good superlow take with your friend and it's not going to figure everything out running it in practice it doesn't take that long morning it is usually are the part of your domain so everything is connected alright ok so sorry so far is what we've been talking about backtracking search assignment we talked about dynamic ordering so hard to order our variables and how to order values with the side of the Order of variables based on the most constrained variable because if you're failing Amy decided to order of values like in red blue green and look at is used for checking is one way of doing it so important are consistent the only on neighbour Parkinson's 83 in forces are consistency on Neighbours and their neighbours and just goes over all the Earth so that was kind of sour things I want to talk about but next time we're going to talk about more more now what I want to do is I want to spend a little bit of time talking so on we've talked about two examples that alright map colouring and this one is also a colour so so so so what's a Debbie 3 sculptures A B and C and they got exhibited Museum and art gallery and then I have room one and two so they can be either in one or two and I'm going to have a set of constraints so maybe my constrains or scultura a and b cannot be in the same room b&c must be in the same room I'm room.to can only hold one constrain how would I go about this what I need to write a factors I need to write so let's try to do this so this was my domain I have three sculptures on undefined variable y that's it wrong one or two there I have three sculpture so I'm going to have variable being variable each one of them can be in now I got any point factors hello these constraints one of the constraint was a and b cannot be in the same room so that affected it's going to depend on a the same room what is a catheter write over a and b and that function is going to return something Richard return it should return a not being equal that's my Factor WhatsApp so for what I've done is a define A B and C they can take our use one and two of you find one factor that connect a I'm going to find another factor that's going to connect BNC I really want to swap for b&c to be in the same what I want is being sick and what was the last thing I wanted yeah so every wrong shirts second room only jets only gets one no that's a factor that depends off after abs and one way to enforce that is what I'm going to say is season 2 refusing to I'm good I'm going to write indicator functions evasion 2bs into season 2 but that should be what they should be because I don't mind me more than one the third Factor is not a binary Factor anymore of them and then if I stayed the ribbon topsiders always next time but here is assignment are you going to find out is going to be in room to use going to be in Room 1 interested in poor models example no one has one more so event schedule so show the event scheduling samples I have even Mercedes R-Class and then you have spots events what and you want to schedule you want to schedule a time slot constrictor the first strangers YouTube most people in exactly one time which event in exactly one time slot another constraint anyone have it maybe 1 each time so I T to hold at most one you don't want you want that most event event and then maybe I have a set maybe maybe even he is a while in time slots tea only if event and x 40 are in Somerset another constraint that ensure that some e x is in some predefined and what I want to do is I want to I want to formulate this problem so how would I go about it what should be my variable you're going to go with it's ok so what's a dad the weather for me like I'm in a most natural formulation is the say that my variables are going to be those are going to be my excuse here and every events can take a time so the value that it's going to get is 1 through tea or we have two different times then if I if I start with this if I sorry the sitting room saying every event is a variable then I cannot get this first constraint for each event is in an exactly one time because I have my very busy you're not going to get multiple values I'm already get this one this constraint which makes sure that each time so I can have at most ONE Event so to ensure that then I need to make sure that X Y is not equal to any some other xx because is my variable my event variable it's going to get a time time start now the 2 times that now used for two different events should not be quiet not equal to excel and and how many of these do I have got I have order of the squares of them even so I have 4 then I have x the options here to make sure that they're not so I have e-squared binary so I didn't have another constraint which tries to ensure that these events and their time slots which is the value is going to be this as a factor so you have some number immunity factors attended the number of variables that you have is the number verbally have is with your domain is size it's good to think about this if you have more choices tell me about the second multiple choices for modelling this it's a good idea to think about what type of factors do you have how many of the new year I like the worst case scenario I have binary finary I have another option this option what I did was I took the events at my generator formulators is this the same or maybe my variables are just a time I'm going to go different different different I'm going to call it by tytr the time I have variables for time slot each one of them can either take an event or maybe there no even had it are you Saturday either taken event or no event if I model this this problem using using the second approach then I get the second the second one because my variables are time slots so I can I can I can tell if i s and then for the first constrain actually need to write something for the first constraint which there's YouTube and is in exactly one I'm going to write a constraint that says Whitey this time side is going to get an event for exactly one this constraint that I have how many variables if I wanted to be exactly one time example I wanted it to be exactly in 1 needed to depend on everything else this is going to be a theory t variable previous formulation everything was wine or unitary here I have a theory what's the theory and I'm going to have another constrained to just ensure this last so what me to think about this two different approaches is how many of this was stressed so so we just sort any have a theory constraint hear one thing that you can actually do when I have a slight after worse about Dad is if you answer menery history some Theory constraints the number of variables I can actually change that to order of the Winery so I can actually like reduce Sound by make these two angry Mrs tomorrow to have all binary or you one of them is going to have do you know order of tea number of factors the other one is going to have and the question is well which one should be and it really depends on Greater and C Ortiz so if you have if you have more time slots than event what are time slots and have a 50-pence I say that you want you want then you should use the first hour because that down was very had order of Y squared if you have any other way around which is again but maybe you don't want to don't want to you're ok with not assigning all events so so if you're if you had any other way round then then you can use mobility might have different ways of formulating a problem you should use the one that that is the most beneficial depending on what how many one last thing to do before before we had so I just said if you haven't anything strange you can actually write down binary constraints and the reason is usually algorithm require having winery constrained here I haven't have a setting where I have this or between X1 X2 X3 and X5 show the way to make the everything straight is what we can do as we can define an auxiliary variable so so I'm going to find a new variable this new variable AI is a eyes are going to be just the result of the or of a i - 1 4 x 5 so so what was happening here it is quick so I have a setting haddocks one Exeter x 3 x 4 I can have an entry constrained that connect all of these together to one one Factor graph what I can do is I can actually define new variables on Defying how many new-variable A3 4 and there I'm insuring and I'm defining you factors where A1 is the result of these two Wars a 2 is the result of these two variables A3 is the result of all of these variables this is not binary what is Siri we need to do one more step like after your defining is actually very but after that we need to be fine we need to do one more step over to find a new variable b which kind of represent aaina replace these two just wondering so the eyes are just going to be representing AI dial Arch binary winery Battersea and then why do them so I'm adding actually one more constraint I actually need to add a consistency constraint that make sure the eye - 1 of 2 is equal to bbia insuring like peeing post are staying the same what's that next time 