this presentation is delivered by the Stanford centre for professional development ok let's get started well today we have a very nice video actually this is one of my father videos and Dom I think you'll we could have the light video with me well continue so simulations does not always work robotic education is very important ok that was quite amazing form let's go back to control soul I'm sorry for the figure on the 20 minutes later end last time we saw how we can develop pid controller or a 1 degree of freedom and then deal with the control Rob if we add one more degrees of freedom that is if you have a robot with some dynamic uplink we are going to see that performance pid controller is not going to be satisfactory especially if we are tracking it subject so this equation of motion you're familiar with I'm going through write it into equation so here is the equation of Motion and you have a 2 joints so the vectors are 2 by 1 and the mathematics is a two by two so if we split write this equation into equations no you're probably more familiar with this phone so what do we see we see here sort of mass acceleration or energy rotational acceleration ecotalk there are all these additional terms that are appearing so essentially the acceleration of join two curling to is appearing in the first equation and is affecting the dynamic behaviour of the first link so as your accelerate you have a coupling through M12 and that is producing disturbance forces or inertial forces on the 1st we have opposing forces coming from the acceleration of joint one on train we have I'm going to what kind of force is here come on you have immediately to recognise this phone what what kind of forces are there centrifugal force on the top careers so product of velocity coriolis Square velocities centrifugal and this gravity so all of these are going to have an impact on the robot and it's really difficult to imagine that this or 0 or 3 as disturbances they are going to be there and as you Accelerate one point you have an effect on the other so really the system that we talk about this controller that controlling AJ a link is going to receive disturbances coming from the gravity and coming from the motion of the other leg you see that which means that why was the ignoring we meet we need to really I mean this ass disturbance Force and these are largest and the only way you can deal with the with the rejection as you know is increasing Katie's Geordie Jackson the sun so treating the system as n independent joint a valid assumption any fact most robots today in industry still use they say ok I'm not going to care about the motion of joint too I'm going to put a controller with large games so I can control each of the joints whereas in reality in degree of freedom system of those joint is receiving those coupling and this couple of force or interact so there are something I mean not only disturbances but the fact that they are interacting there is something about the stubborn how can we say that the system is stable if we are controlling it with a PDP controller right because he had this interaction taking place between the lines album so the stability of a system that is highly and nonlinear and interactive in the way we saw is evident how can we how can we prove that system with a PD controller with all these distance vs time from the interaction stable anyone yes energy so in fact we're going to do to prove this is to go and do an obstruction to see what kind of energy we are putting in the system and how we can show that the system is in fact in the late 70s there were a lot of papers written about PD control stability the PRU that yeah the system can be stable just with PD control so instead of looking at the equation in this phone Torquay quasar with a controller that is with this is a vector PD it's not just I component it is applied to all the jobs so what we going to do we're going to go to are an equation you are very familiar with which is which equation of energy were going to use diagnostic so instead of analysing these component we will go and write this equation in this form so now we are doing an obstruction to the a scalar quantity which is the energy the kinetic energy and the potential is this phone we can analyse the impact of the control sweetheart applying to the and images you will see there so when we apply the talk torque equal - KP human is Q desire essentially we are putting a first term this proportional term is a gradient is that conservative the Greedy and this gradient coming from the potential energy of the springs KP wish varying on different joint keep is a match diagonal matrix you can imagine you have different keys for different but still it's a gradient of some minute so now how can we improve the stability of the now much easier yes so what we are going to decreasing or equal to zero or basically what do we have here ucav here and ivy there so what you are doing is musically by adding this if you move this to here you can see the effort have your control your controller is essentially here is the natural forces and you control is modifying the initial potential energy of the system which has the gravity forces pretended to VD this potential energy desire so instead of having your energy making you fall down now you have some energy that is going to help you go to those design go position in addition on the right hand side we have a term that is - KV student so this term is going to bring additional stability that is its going to bring asymptotic stability because it's will damping and oppose the motions along the cutest so you remember this condition that these forces are acting against the velocity so as long as your TV is positive this condition is satisfied and we can show that essentially the system is going to achieve this motion so you will go to the minimum of that potential energy and because of the storm you are going to be able because this damping term you are able to aesthetically stabilise your sis so yes ITV controller is stable but this doesn't tell you anything about the perfume Chelsea oh yes you're going to move and release that configuration but the longer motion you have all the couple so in here whatever a coupling you have it is going to appear in the kinetic energy a derivative and that will produce the initial for so if you're moving to a good position that is no can move and press that and you will have a small upset because of the gravity you can in fact put in video some conversation of the gravity and take it out so you can reach that goal the performance along the trajectory are not going to be if you are tracking at surgery or not going to be good so how do we evaluate our performance what are the parameters in this controller that affect the performance yes the KP and the KP the TV allowance to dampen the system and caves DP allow us to reject the service so what would you like to do an auditory disturbance as long as possible so you need Huggins so if you have fun able to implement High games then you get better the students however your jeans are Limited in practice you start drinking up your days and you start we had the simulation and I showed you as we increase the gays release appointment we start vibrating and this was only a simulation in the real system what do we have in the rails we have structural flexibility we have flexibility indolent we have flexibilities in the drives so if you think the bummer the former has Bose Motors placed inside and they are connected to the joint through Ross and they have flexibility and when you start drinking up your games what's going to happen hi again you start to to have a closed loop frequency closer to you're flexible structural frequency and that leads to answer you excited no smokes so if your flexibility is you have to make sure that you're gay result into close the Frequency below your your structural flexibility not only that you have time delays and actuation so your Samsung your measuring the intruders and then you are going to compute your controller and then you are sending this controller to the motor and the motor adsum unconscious so you have some delays and you have also the Sunderland great serval love is running with some sampling rate needs to be white high this is not anymore a problem it used to be a problem when we had that slower computers but now the cities are so fast that this is not anymore and so here is a rough idea about the limitations you have if we take resonant mode the lowest resonant mode on your sister you have to make sure that your Omega n is lower than half that isn't made in order to be able to avoid catching windows structural flexibilities resonance mode with term in term of the Leys you are limited also by one third after the frequency of the Daleks well as I said this is not anymore a problem so that the key issue is the slowest structural flexibility in your system and it is there believe me you start drinking these games app turning your game in you start to hear the vibrate so it's very difficult to achieve hygiene and remember the delay is in town B 25 / the I mean the frequency is 2 pi / 2 time off the deli Instow time ok so what is the solution if we cannot really drink at those games so high that we will cancel all disturbances dynamic disturbances what is the what is the solution so if you remember the problem is like this a piece of the giant you are getting this disturbing swaps stop what should we do I have the moral I have good estimate of mij good estimate of the gravity because you you just did a lot of homework with dynamic so you know how to define the structure UK eventually identify the cost involved the mass of the centre of mass you can measure all of these and then what can you do I'm sorry you're sitting so far if you use a model of your plan the nonlinear stop by controller and effect you can turn and also if diagnosed masturbate turn it into the couple a very simple one of my squad well I mean the idea is right basically let's use this mobile if we if we know the dynamic in advance we can use this model and what do we need to do we need some how to counter this Force so how we counted this course we computed and and and like injected back in the system to counter now the day gonna listen rising the metrics is not really the issue because if you are essentially you want to compensate for the coupling Force so what you want to do is is essentially for join two somehow compensate for gallstones this coupling so this brings us to something we discussed earlier you remember this unit mass system that we can achieve by compensating by scaring our controller with a game that is proportional to the mass alpha Plus beta or alpha is Prime plus later you remember that well no extended there and what we're going to do is to go to that first equation in the metrics for and we are going to say we are going to take a photo that is proportion of the mathematics so our talk will be some estimate of the mass matrix x Prime Plus a beetle that compensate for V and the gravity n this is what we're going to do oh nice what was this so as we going to do is we think too small and we imagine that somehow after a lot of identification work we identified some estimate of the mathematics of the mathematics actually you know it's true you know the structure but it has init parameters in kilometres distance that you don't know exactly but you know approximately within absalom so you take an M heart of the mathematics and you select a controller talk Prime so this is Alpha f-prime plus radar think about taking a controller that compensates for the gram so essentially what you're going to say if this is perfect I think this so this is not anymore in the equator if this estimate is perfectly coated this will drop no controller will B&M acceleration equal if M is exactly equal to your unit acceleration is equal to toprol so basically you are able now to drive the acceleration theta double dot with play top with TalkBack and your time is now the inter the control input of the decouple system the unit narcissist so if we select the structure and if we apply the structure to the equation and if we multiply the solid wishing by M - 1 do bring theta double dot out what you open in - 1 m had prime + 10 - 13 - VG - 3 ok suppose that Jihad is identical to just supports for a sec and we had Izzy denticle TV the 2nd term is going to disappear Vera and minus one and my if my heart is identical to -1 m is identity so with perfect estimate this is your behaviour magic stop isn't leaving non-linear dynamic decoupling a multibody system relies on this if you use the structure take a controller my controller not a PC controller any control you want and this controller is going to to be scaled by the Mathematics and art nonlinear dynamic compensation to compensate for the term nonlinear terms in your controller then you achieve dynamic decoupling with a behaviour that is controlled by thought crime interpret now is controlling the EU Mars unit in Ayrshire of all your degrees of freedom so if you select your dog fine in this way like this is a trajectory tracking the track Theatre desired and desire you are going to be able to achieve a closed loop in this phone if you have perfect ESTA now in reality do you think we will have perfect your stomach no if we don't have perfect we have to have a good rest Noda for this to work so you will have a difference between V and V had a difference between G and she had and some difference between there and that will bring some Epsilon disturbance and business service will appear here it's not going to be a good 20 you'll have some Disturbed so what is going to be important is that your KP prime and KV Prime to be selected so that you reject those this what does the services are much much smaller than the initial dynamic coupling that we saw before the compensation and the decoupling that we use in the structure so this controller as long as your estimates are reasonable is going to give you the coupling with some errors and you still need relatively large games but much smaller against than the one when will be needed without any dynamic impulsor ok now it turned out that you should be able to identify your dynamic the ridge part of the systems dynamics to a large extent to a small episode so what substance are small however in the initial equation we are neglecting what are we neglect on this first equation we are not showing here this is the sea the robot what is missing there friction so there is friction that is actually nonlinear friction that is difficult to model and there are a lot of other nonlinearities and then you have the higher-order Dynamics that unlock modelling modelling just second order the flexibility zone of model so you are going to find limitations here you can try to compensate four part of the friction forces that is not going to be perfectly compensated so higher gains are very infectious compensation for the gravity suppose we do not we made a big mistake with the grab the gravity is estimated the gravity and we were wrong and we selected she had to be there what is the effect of that under Armour so you will have just blackout soccer cost took off that is will be divided by your your Katie Prime Time m so let's not going to take the stability you will you will just reach the final gold position with little so what is the effect of m - 1 and my heart well if you make a mistake in the estimate of the mathematics it's going to sort of her scale up or down your gain your Katie so your baby will be the distraction Mr x thoughtcrime time stop Prime Minister KP Prime is x m hat and if that estimate is little wrong you are changing your gains up or down so it is sort of like again mate what what about v&v hat WhatsApp estimate of my heart if you make an a mistake in the estimate of heart as in heart is positive definite from your structural you shouldn't make a mistake if you make an estimate the effect of it is just the skating upper and down your gates going to facto match the stability as long as you have positive definite what about V if you make a mistake in the heart so what is V V is function of Theatre and Theatre you make a mistake in VR which is coming from your estimate of data dart heated at Heart your estimating to computer via heart and that might be really dangerous because V is function of velocity and if you make a mistake in your estimate of centrifugal careers forces you might create sorted negative feedback in which could destabilize the sea so in fact if you do not know we had well it's better just to treat the equal to 0 rather than making wrong us so besides V hearts errors in G or in on not problem for the stability it's very hot and if you don't have a good estimate you can go news A0 estimate of the ok so this is the overall control system basically what we are doing is we are doing a feedback that is compensating for for centrifugal Corolla gravity and all these forces and then we are scaling h input so this is thought crime it's kill by Emma and we are adding this to produce the talk so the talk is my hard times store Prime Plus estimate and then we are able now to compensate for centrifugal cordless gravity forces and scale games and decouple this and the overall behaviour of the system will be there so now we are able to control I will robot that's what we did here we controls our robot in turn off its joint motion where do you get this trajectory so you have your camera you have your hand and you want to move to the gold position remember our initial Prague you want to move there how do you compute all these trajectories for the joints and this brings the problem of English coronavirus that's unique to use to transform your task description intern joint trajectory well this ring has two task oriented control where instead of thinking about the inverse kinematics as a way to transform the trajectories we go directly too controlling the task n I talked about this earlier but let's take a simple example to illustrate this proper so here it is I Robot a mobile manipulation platform an our goal is to move this robot enter Factor to move it to this composition to grasp this so how do you do that Indian space contour quickly a lot of things to talk about so quickly think about it what do you need to do in order to go to that pole position play Translate well it certainly if you if you go like little bit hiya abstraction what you can say what I need to imagine the final configuration where I'm going to to be and in fact I need to imagine all the configurations of the I need to find this configuration how many configurations do I give if you can in this Teresa this configuration you can be here you can be there you can be in infinite white so the question is you have infinite ways from starting from here to go to there because of the redundancy and it's really difficult afraid to say which one is better it's really difficult when you have redundancy to resolve all that redundancy and decide about it ahead of time and if you do that actually you'll lose a lot of personal property that you can use in the control of the robot as we will see little bit now and much more later when we analyse the the fact does this bass is heavy this army is lighter and if you are able to use this for microstructure in mini structure and combined you are going to be able to better use the reduced effective finishes that are coming from acrimony structures in controlling the robot in a much better way that is we will see that we will be able to really reach rapidly and then stabilize the macro reach with the past Dynamics of the system and then stabilize stop how can we control the difference how can we move from here to the goal position without without deciding a prairie with final consultation we're going to have ok the weather today exact this was the idea I found many many years back which was the se I don't need to know exactly how the structure is going to move at this time let's just move the end of support important Factor is very easy you just apply the gradient of a force that is pulling on the fact so if you you virtually apply a force at the end effector that is the gradient this force which has it minimum audible position it's actually the centre Factor is going to fall in this potential energy and it will move towards the bottom well you don't know exactly how was going to move mate because this is not appointing as you're dropping in a potential energy is a Motor Body cyst endo this is what we call oriented or operational space control operational space control relates to what we are trying to do with the robot it could be the end effector if we have multiple Arms it could be Motor Factors or it could be any descriptions related to the dust cover so lyrics to little by little and then you'll see how you can put for your 80s how you put V on Wednesday I will describe how do simple concert a combination of and attractive potential energy that bowls you to the goal combine and now this is what is interest is I'm going to move to this goal right This Is The Girl as I move there are obstacles on the way now I can apply repulsive forces onward different links that are interacting with the environment to moving away which means that if I was doing this enjoy space I need to do the whole motion plan time to make the decision about how to move suddenly an obstacle comes and move or I discovered that this obstacle is not there how can I adjust Andrew compute all the inverse kinematics I would need to do replying in real whereas in here you are able directly to a fact those oculture so we'll see a lot of issues that relate to how in real-time we can deal with many other materials related to how far away I would like to keep the body of the robots from there type of angles orientation I would like you can add all of these as well but this will bring us to how we control our redundant oneyplays and these are issues that will come in advanced robotics and it's culture but it's actually the basic concept is very simple the basic concept is to say I want to move to those goal you can have gun positions for the end effector for the base for any part of the robot and then I need to protect the robot from tactic anything so I replied this repulsive forces and you'd the system in that film it will just move and go there now I did back anything about the dynamic but essentially this is the second now how can we apply this Force show the gradient of V is a 4 how do you apply this Force to the motor so you want to apply a force here what would be the corresponding talk so it will be torque equal f we need some something to relate this Force to the top J Transport so if you just apply A J transpose off we're off is this gradient of the go position in act your play this to the sister and that is off is going to be that you will move there and it works again it doesn't deal with the Dynamics your motion is not guaranteed to be the couple due out like pulling all these links and moving so what we need to do is really to look at the dynamic properties of the system and evaluate how the system is behaving when you are moving in the sky the other interesting think about this controller is and this is really there the fundamental property of the controller is the fact that now you have a way to deal with contact because when we are going to move this abscess hydrostatic and suppose the task is to move this object over the table while it's in count and I need to push on but I'm doing some Assembly and I'm touching the object and applying it to apply a force in some Direction it's very easy if you know your contact forces you do J transpose f counter but now the move we are translating the control for motion in term of ethnic essentially we are unifying the two problems in one problem you just add them and you take the sum of the two and now you have a unified way to control both motion enforcer you have to make sure that your contact forces are in the proper space that is in this case it's the vertical Direction and your motion control or in that space and when you go to more complex contact you have to do some selection and project your controllers in the space so the dynamic problem that comes with this is quite interesting it is a problem that from the fact that when you apply this first of the interfactor and as I said this is not appointment this is a multibody you are going to obtain an acceleration of a point mass and if you apply Force the extra this is Exeter your acceleration will be along the same direct in this case your acceleration is going to be somewhere else because of the coupling there is a coupling between Earth and acceleration so you need to find the relationship between forces and acceleration at this point there is a mass Matrix associated with the sax that allows you to evaluate the mass properties in the different directions and the coupling between them so if I'm here and if I push in this Direction I will feel sort of an effective mass off like say 5 kg but at the same configuration if I push in this Direction the message 2 kg and if I rotate about this axis I will feel some inertial forces that is different from this one and this is your mathematics this is different from the mathematics that we were talking about the inertial properties in joint space the factory finish about axis that is varying the Factor finish about this access and the coupling between now if I pushing this Direction I will see this because there is coupling between why Direction and disease and exploration and the relation between but if I am able to model this then there is centrifugal coriolis gravity forces as well we are just going to be able to model the Dynamics in that space fordyce spot and if we offend this model which is simply relationship between force and acceleration velocity and position different configuration you have different property once you have this model you can do the same thing we did with controller the robot enjoying spaceback decoupling making estimate of the coupling and making an ester or a fine now we select and that is proportional to the mass the estimate of the mismatch with compensations centrifugal coriolis and gravity and then you can control it you find us you x d transpose and transform it into thermistor and suddenly now you are directly controlling your robot in operation in the space of the task and that would I love you too control directly or errors indus so your voice control will be functions of those aspects in the same way with the same structure that we saw just early ok so to discuss this model not going to go to the redundancy we can do that in the original case and as I said we will discuss this more in advanced robotics essentially what you are doing you are making an obstruction to the robot focusing on on the task which is in this case this friend at the end of factory and in the knowledge of the case you select a set of device coordinates which are going to be your XYZ alpha beta gamma if you have a 6 degrees of freedom and an idiot factor was six degrees of freedom basically what you're saying instead of selecting q1 Q2 q6 as I'm going to select x12xe ASDA lights and then you write your equation of me with respect to the school dinner so here's your giraffes coordinates now you write equations of Motion with this back to those including it with taking the partial derivative with respect to x with talking about start with talking about not to but forces acting along x y z the different components n if you do this competition you end up with similar of Madeline tacoma I'm changing queue in access you have a similar model but now capturing the properties at your end so this all the definitions basically everything is the same except that now it is related to your task ok so the relationship between these Dynamics the mass matrix m inertial properties at the joint and the mathematics are there in the foot how can we establish this again Hennessy what is the kinetic energy manipulator described with respect to joint space gard was giant giant vallis 1/2 student transfers you agree alright I just changed my coordinates what is the kinetic energy describe with respect to it's not supporting the robot is not organised coordinates so they capture all the motion but it's in what would be the kinetic energy 1/2 Xbox Transformers and x rodri is it the same kinetic energy yeah we haven't even today between the so if we write this identity between the two how beautiful this is once you you do you go to the right at section it's very easy to extract property if I say the kinetic energy written in the space should be equal to the kinetic energy rating in this I have already result the relationship between what is MX related to um do you see it what should we do now to resolve it you see this computer what is the relationship between the two visit Corby so if I substitute expert with jq Dot we have the answer I'm just relaxing two same identity between the two the mathematics we computed in joint space is related to the mathematics in operation Space by m is equal to transpose mkr which now you can compute this as a function of this by multiplying from the left with G minor and from the right by J - transport whisky.com x = a minus transposing play my list ok that was easy do I grease it was easy affect once you computed your Amex then you can see that info you're centrifugal coriolis forces they are not J minus transpose they unlocked the Beast vs are not James Maddison Spurs V the argument is transpose V minus discounted in fact when you look at this as a talk and compensate and decouple centrifugal forces in joint space you are not really the couple the interfactor centrifugal corals because the relationship between the two is different by the way out is just j.dot so this age appearing there is this so this is the relation shared between the the gravity in joint space and gravity in operation space or related just by Jay transport - so the gravity is a torque and you compute the force so if you x Jay transposed a transpose jx equal to J minus transfers means it is a minus it is Jay transpose - 1 or - 1 the relationships between the two are very simple well they were not supposed to find they are it is an example I think we we can quickly go over this example you wish this example before remember recite in joint space ent we computer the Dynamics through and all that I'm doing now is going and finding the jacobian so this is your jacobian which I'm putting in frame 1 and I'm writing now so this is the Jacobian in frame one of the struggle and now if you if you remember from space dynamic of the mathematics was there and a couple for this rubber now if we computing their mathematics in frame one for the end effector position I need to multiply by Jay - transpose and Jay - that turns out to be again a diagonal matrix lives so in frame 1 the mass properties so now let's think about it mathematics in for the interpreter make sense so this robot has the following properties we said it has a mass of linked 1-m 1 enough of link to N2 at this location and now I'm looking at the most properties that is what is the fastest mass when I mean in this Direction because I'm representing this in from one which is this so if I move in this Direction what will be the fastest mass I would see when I'm moving in lizard and what is the effective mass when I'm moving in the spirit so let's see if this makes sense so if I'm moving index One Direction what do you expect the mass today this is vente Factor I'm moving in this Direction what do you feel when you move in this Direction well this is what you see correct if you move in this Direction what do you what do you push when do you carry what muscles are moving with you M2 got something else because you are pulling you have to move this so you get another term in 2 + something what is the something this something is sort of Emlyn reflected there and that depends on the distance right so essentially what you are doing actually into Prime is taking this distance dividing it by 2 and computing all the inertias related to M1 the initials of fling tool and link one that appears here and all if they were just a match so this is what you're doing when you go to the mass matrix at a given point you are looking for this mouse that produces all this effort that are equivalent to those effect that you see if you had all this Nexus so let's no go from diagonal mathematics in from 1 if I go to friend 0 I need to * the rotation right rotation mate look what happens in French the mathematics is Newbiggin so if I'm moving this structure along the X Direction my direction I'm getting like the Egan but if I move in any other direction there is coupling and this is the couple so the properties that you see in joint space it could be the coupled even for some robot when you go to the real space where you are doing the tour the properties of different and essentially hear what we see is in the Direction X we have M2 so if you drive it looks so I use is âˆš into and in the other direction you have in 2 in any other direction you are basically getting the square root of the magnitude in that Lioness ok so how do we control this robot effector well I'm going to see I will show you little bit how does properties are through the website in Ayrshire and the limitations of the different baguettes do the interactive control now and see how we're going to show that just applying this controller with a sort of a force is going to leave to astable behaviour and then see the problems how we can go to Dynamic Earth so when we apply F2 the system eventually with we are doing is we are saying I'm going to apply for self and this Force have could be in many different ways we are saying that supply a gradient of a potential energy to the gradient of the potential energy that depends on the goal is going to be 1/2 KP this factor x - Xbox transpose xmind export so if you take this first and say this is my 4 the gradient of this potential energy the result is this essentially what I did in addition I made an estimate of the gravity V so I put in my gradient some estimate of the had the gravity so I'm compensating for the gravity so what happens if the initial system that was k - V is now transformed into Caymanas Vigo it's so fly I I have my arm I would like to move to the scope position instead of having the robot without any control is the robot you you drop it in the gravity field it will for life right now I'm changing the gravel it's going to fall there that's so so the system is stable it will oscillate about Vigo it will oscillate but still instead of oscillating about the minimum of the gravity failed it will oscillate about the minimum of the artificial potential field you are putting about your daughter's ish so how do we stabilize it quickly damping how do we select our camping pause stop until physics start we put forces that satisfies this condition again so recenter you just select FS to be minus kvx I would give you positive you have your country so this is my estimate of the gravity to remove the gravity and this is the proportional turn main acts directly you think the professional term and you have a synthetic stability ability here and when you this additional damping you have some Galaxy tablet right so lipstick R I was 2 degrees of freedom and now treat them with this controller this is the dynamax someone gets a phone call let's write the controller so are you feeling so far here is the dynamics in operation space this is your controller let's look at the behaviour so I'm splitting the first equation into equation x and y so this is the behaviour in Acts and the second equation is the behaviour of y and what you see is that I'm just copying this from the real property the in operation space for the 2 degrees so what you see is that you have M1 cosine square of 1 + 32 N2 acceleration M1 star x the acceleration so what do we you see that is essentially when I'm accelerating when I'm studying the behaviour along that direction I have coupling coming from the Y Direction and my controller is like this so so what is the closest behave when the Close of behaviour is right it's like I have a mass acceleration plus KV expert kpx n instead of being equal to 0 is equal to the acceleration of the second join the nonlinear terms coming from the heirs associated centrifugal coriolis forces and the same thing for the 2nd I mean not secondary second Direction in addition what about this suppose this was 0 this all the students vs right what is this it's telling you that as you move your mum active maths exchanging you're not your effectiveness it's very small here and when you reach this location do you know what is your effective mass very small when you reach here what is your effectiveness in the Direct basically when you read this will become so high that you cannot move anymore it will be coming up so so this is a non-linear system because also the Mars properties of Change still it's a something stable it works you have a lot of distances you need hygiene we cannot achieve huygens we know why so what should we do we don't have to match what should we do decision under constraint what should we do use the model decouple linearized assist so non-linear dynamic decapping it's very simple when you have another like this immediately you have a unique structure that will give you the this is your structure compound safety Kyle be gravity with an estimate of the gravity take out your centrifugal forces with an estimate and take your controller to be proportional to an estimate of your master that's it you have a structure like this exclude B&Q so European James B or in any other taxis this is your this is your system on the right hand side you have your control on the right hand side this red thing can be selected in this track and what's your selected this structure you up and and if your SMS are good you applied to the system you behaviour is there going to be unit mass acceleration equal extra ok unit mass acceleration now you select a prime whatever you have a good position you're have a motion tracking you select your restaurant the way you are and because now you have your f there with that structure at the end so you computer or a prime for the different task you have and then you apply this f over there not this one f-prime is in here you apply J Transport as a talk now you are controlling the torch needed decouple the system and track the desired behaviour you're imposing in April ok if your estimates are mascot identity v x = 0 basically we are back to the non-dynamic control system to the PD controller with potential energy if you are applying the potential energy at this level you are reshaping it and adding the appropriate for this to decouple ok good so if I have a good position we saw this controller but if I have tracking I know Xbox and explode then 44 the goal position control of your behaviour is linear and decoupled and everything is going to let you move to the goal position following this second audible all these descriptions then your controller will anticipate acceleration so you had feed-forward acceleration like we did in space you have feed forward acceleration you have tracking of the velocity the desired velocity and tracking your position and the clothes now is like this which means now you are controlling directly the error in the dark space that is you have your camera you are doing visual servoing you get your ex deserves in real time Xbox design acceleration whatever from your sensory information and you are able to track and control the robot to follow the trajectory specified by your feedback and in real family are achieving this decouple behaviour what has if you do it in joint space actually you are control a tracking in an era nothing your controller acute and dynamically this is very because the relationship between ex and AQ is non-linear so this is what you are controlling whereas enjoying space you were controlling when you were ok this is the overall controller the overall controller is now compensating it's the same structure that we saw before but instead of looking at the system enjoy space we are using the J transposed to transform this into the interfactor behaviour and now we are compensating for centrifugal coriolis gravity forces that are marbles for um2 Factor and we are scaling with an MX with the master at the end of factory and we are controlling the trajectory so here we control and F5 here we get off which is the sun of scaling a frame by M&M the non-linear compulsory and your Dynamics now is control in tasks right and that's what you want so on Wednesday we will talk about some additional aspect of the control dealing with compliance and some ideas about horse control and then I'm going to give you a preview of a lot of the research going on in humanoid robot and in design robot to work and interact with a human in their own van so they have to be sick and we will talk about those issues on Wednesday in the meantime on Tuesday I will see half of the group I hope for the review session and other half on Wednesday Dior 